最終更新：2026年2月25日

文責：引野

# 1. プロジェクト目的

## 1.1 目的

IZKYトークンの流動性向上を目的とし、

実取引データを用いたトレーディング大会をWeb上で実施する。

---

## 1.2 Phase1 成功定義

- 1取引所 × 1ペア × 1Cup が正常開催される
- 実データでランキングが生成される
- 管理者が結果確定できる

---

# 2. 提供形態

## 2.1 デバイス方針

- Webアプリケーション（ブラウザベース）
- ネイティブアプリ（iOS / Android）は対象外
- PWA未対応（Phase2検討）

---

## 2.2 主要想定端末

- Mobileファースト設計（レスポンシブ）
- PC利用可能
- 主利用想定：スマートフォン

---

# 3. 大会仕様（Phase1確定）

## 3.1 対象範囲

- 取引所：1社のみ
- 対象ペア：IZKY / USDT
- 取引種別：現物（Spot）のみ
- 大会期間：固定7日間
- 参加費：無料（Freeroll）

---

## 3.2 参加ルール

### ① 途中参加

不可（大会開始時点で締切）

---

### ② 大会期間中の入出金

大会期間中に対象口座で入金または出金が発生した場合、

当該Cupは「失格（Disqualified）」とする。

※入出金補正ロジックは実装しない（Phase2以降）

---

### ③ 最低残高条件

- 最低残高：10 USDT
- 管理画面で変更可能

開始総資産が10USDT未満の場合、参加不可。

---

### ④ 最低出来高条件

大会期間中に

**最低 100 USDT 相当の総出来高を達成した場合のみランキング対象**

- BUY / SELL 両方カウント
- 管理画面で変更可能

---

# 4. スコア計算ロジック（確定）

---

## 4.1 開始資産

大会開始時刻のAPI取得総資産を使用。

```
開始総資産 = USDT残高 + IZKY残高 × 開始時点価格
```

---

## 4.2 終了資産

大会終了時刻のAPI取得総資産を使用。

```
終了総資産 = USDT残高 + IZKY残高 × 終了時点価格
```

---

## 4.3 未決済ポジション評価（重要）

未決済ポジション（大会終了時点で保有しているIZKY）は

終了時点価格でUSDT換算し、総資産に含める。

例：

決済ベース利益：+100,000 USD

未決済含み損：−99,900 USD

→ 実質増加：+100 USD

そのため、未決済も必ず損益に含める。

---

## 4.4 PNL

```
PNL = 終了総資産 − 開始総資産
```

---

## 4.5 順位決定指標

順位は **PNL%（収益率）のみ** で決定。

```
PNL% = (PNL ÷ 開始総資産) × 100
```

---

## 4.6 同率順位

- 同順位
- 次順位スキップ方式（例：1位,1位,3位）

---

# 5. API障害時の扱い

- 大会期間は延長しない
- 取得できた最新正常データを基準とする
- 外部API障害は補償対象外

---

# 6. ランキング更新

- 更新頻度：30分バッチ
- リアルタイム更新なし
- 最終順位は終了時点総資産で確定

---

# 7. 結果確定

- 管理者による手動確定
- 確定後は順位変更不可
- 異議申し立て機能なし（Phase1）

---

# 8. 想定規模

- 想定参加人数：100名
- APIレート制限前提設計
- 単一バッチ処理想定

---

# 9. ユーザー機能（MVP）

- Web3ウォレットログイン
    - metamask
    - wallet connect
    - izakaya
- Read-only API登録
- Cupロビー
- 参加登録
- ランキング表示
- プロフィール（戦績表示）

---

# 10. 管理機能

- Cup作成 / 複製
- 強制失格
- 結果確定
- 数値パラメータ変更（最低残高・最低出来高）

---

# 11. Out of Scope（Phase1非対象）

- 複数取引所
- 複数ペア
- 先物・レバレッジ
- 入出金補正ロジック
- 有料大会
- 自動報酬配布
- 異議申し立て機能
- リアルタイム更新
- ネイティブアプリ